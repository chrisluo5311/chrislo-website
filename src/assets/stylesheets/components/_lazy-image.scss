/* Lazy Loading Image Styles */

.lazy-image {
  opacity: 0;
  transition: opacity 0.3s ease-in-out;
  background-color: #f0f0f0; // Light gray placeholder background
  display: inline-block;
  
  // Prevent layout shift during loading
  min-height: 1px;
  
  // Loading state - show placeholder
  &.lazy-loading {
    opacity: 0.3;
    background-color: #f0f0f0;
    background-image: linear-gradient(
      90deg,
      #f0f0f0 0%,
      #e0e0e0 50%,
      #f0f0f0 100%
    );
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
  }
  
  // Loaded state - show image
  &.lazy-loaded {
    opacity: 1;
    background-color: transparent;
    background-image: none;
    animation: none;
  }
  
  // Error state
  &.lazy-error {
    opacity: 0.5;
    background-color: #ffe0e0;
    position: relative;
    
    &::after {
      content: '⚠️';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 1.5rem;
    }
  }
}

// Shimmer animation for loading state
@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

// Ensure images maintain aspect ratio during loading
.lazy-image[width][height] {
  aspect-ratio: attr(width) / attr(height);
}

// Specific styles for different image types
.card-img-top.lazy-image {
  width: 100%;
  height: auto;
  object-fit: cover;
}

.project-lang-icon.lazy-image {
  width: 24px;
  height: 24px;
  object-fit: contain;
}

.hero-avatar img.lazy-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.btn-calendar-icon.lazy-image {
  width: 20px;
  height: 20px;
  object-fit: contain;
}

.chat-fab__image.lazy-image {
  // Preserve original chat-fab__image styles
  width: clamp(188px, 25vw, 268px);
  max-width: none;
  height: auto;
  object-fit: contain;
  
  // Override default lazy-image opacity for chat fab (it's always visible)
  opacity: 1 !important;
  
  // Ensure it doesn't show loading state
  &.lazy-loading {
    opacity: 1 !important;
    background-color: transparent;
    background-image: none;
    animation: none;
  }
}

